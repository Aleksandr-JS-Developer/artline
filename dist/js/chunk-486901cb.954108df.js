(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-486901cb"],{"0b5b":function(t,e,i){},b59f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"write",class:{wait:t.authLoading},on:{click:function(e){return t.authLoading?e.stopPropagation():""}}},[i("div",{staticClass:"write-image"},[t.conditions.previewON?t._e():i("div",{staticClass:"write-image-title"},[t._v(" Image: ")]),i("img",{staticClass:"write-image-image",attrs:{src:t.article.img,width:"800",height:"450",title:"choose a photo",alt:"article image"},on:{click:function(e){t.modals.showImagePicker=!0}}})]),i("div",{staticClass:"write-tags",class:{"write-tags-muted":!t.conditions.previewON}},[t.conditions.previewON?t._e():i("div",{staticClass:"write-tags-title"},[t._v(" Tags: ")]),t.conditions.previewON?i("div",{staticClass:"write-tags-preview"},t._l(t.article.tags,(function(e,a){return i("div",{key:a,staticClass:"write-tags-preview-tag"},[t._v(" "+t._s(e)+" ")])})),0):i("input",{directives:[{name:"model",rawName:"v-model",value:t.tagsStr,expression:"tagsStr"}],staticClass:"write-tags-input",attrs:{type:"text",placeholder:"tags, comma separated"},domProps:{value:t.tagsStr},on:{input:function(e){e.target.composing||(t.tagsStr=e.target.value)}}})]),i("div",{staticClass:"write-title"},[t.conditions.previewON?t._e():i("div",{staticClass:"write-tags-title"},[t._v(" Article title: ")]),t.conditions.previewON?i("div",{staticClass:"write-title-preview"},[i("h1",{staticClass:"write-title-preview-text"},[t.article.title.length>0?i("span",[t._v(" "+t._s(t.article.title)+" ")]):i("span",{staticClass:"muted"},[t._v(" title ")])])]):i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],staticClass:"write-title-input",attrs:{type:"text",placeholder:"Article title"},domProps:{value:t.article.title},on:{input:function(e){e.target.composing||t.$set(t.article,"title",e.target.value)}}})]),t.conditions.previewON?i("div",{staticClass:"write-preview",domProps:{innerHTML:t._s(t.preview)}}):i("div",{staticClass:"write-editor"},[i("div",{staticClass:"write-editor-title"},[t._v(" Content: ")]),i("quill-editor",{attrs:{options:t.editorOption,readOnly:!0},on:{change:t.updateLocalStorage},model:{value:t.article.content,callback:function(e){t.$set(t.article,"content",e)},expression:"article.content"}})],1),i("div",{staticClass:"write-controlls"},[i("button",{staticClass:"write-controlls-submit",class:{"cb-unactive":!t.articleIsValide},attrs:{disabled:!t.articleIsValide},on:{click:t.submitArticle}},[t._v("submit")]),i("button",{staticClass:"write-controlls-preview",on:{click:function(e){t.conditions.previewON=!t.conditions.previewON}}},[t._v(" "+t._s(t.conditions.previewON?"to editor":"to preview")+" ")])]),i("div",{staticClass:"write-modals"},[t.modals.showImagePicker?i("Modal",{attrs:{modalType:"prompt",text:t.modals.pickImageText,placeholder:"url"},on:{prompt:t.setImage,clickOutside:function(e){t.modals.showImagePicker=!1},promptCancel:function(e){t.modals.showImagePicker=!1}}}):t._e()],1)])},s=[],r=i("5530"),c=(i("a15b"),i("4de4"),i("d81d"),i("ac1f"),i("1276"),i("5319"),i("2f62")),l=i("b2a2"),n="https://www.unfe.org/wp-content/uploads/2019/04/SM-placeholder.png",o=100,d="uncomplated-article",u=localStorage.getItem(d);u=null===u?{img:n,content:"",tags:[],title:""}:JSON.parse(u);var p={name:"NewArticle",components:{Modal:l["a"]},data:function(){return{editorOption:{placeholder:"What do you want to write about?"},conditions:{previewON:!1},modals:{showImagePicker:!1,pickImageText:"Enter image url"},article:Object(r["a"])({},u),tagsStr:u.tags.join(", ")}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["sendNewArticle"])),{},{setImage:function(t){this.modals.showImagePicker=!1,""!==t&&t.length>3?this.article.img=t:this.article.img=n,this.updateLocalStorage()},submitArticle:function(){this.sendNewArticle(this.article)},updateLocalStorage:function(){localStorage.setItem(d,JSON.stringify(this.article))}}),watch:{tagsStr:function(){this.article.tags=this.tagsStr.split(",").map((function(t){return t.replace(/^\s|\s$/,"")})).filter((function(t){return""!==t&&!/^\s{0,}$/g.test(t)})),this.updateLocalStorage()},sendNewArticleLoadingStatus:function(){/done/g.test(this.sendNewArticleLoadingStatus)&&(this.article={img:n,content:"",tags:[],title:""},this.updateLocalStorage(),this.$router.push({name:"article",params:{id:this.sendNewArticleLoadingStatus.replace(/.{0,}\:/g,"")}}))}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["authLoading","sendNewArticleLoadingStatus"])),{},{preview:function(){return this.article.content.length<1?'<em style="color: #c2c2c2; font-style: italic;">empty...</em>':this.article.content},articleIsValide:function(){return[this.article.content.length>o-1,this.article.tags.length>0,this.article.title.length>2].every((function(t){return t}))}})},g=p,w=(i("d66a"),i("2877")),m=Object(w["a"])(g,a,s,!1,null,null,null);e["default"]=m.exports},d66a:function(t,e,i){"use strict";i("0b5b")}}]);
//# sourceMappingURL=chunk-486901cb.954108df.js.map